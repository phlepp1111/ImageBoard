<!doctype html>
<html>
<head>
    <title></title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body> 
    
    <div id="main">
        <h1>Imageboard</h1>
        <div id="upload">
            <form >
                <div id="input">
                    <input v-model="title" type="text" name="title" placeholder="[title]">
                    <input v-model="description" type="text" name="description" placeholder="[description]">
                    <input v-model="username" type="text" name="username" placeholder="[username]">
                </div>              
                <input @change="handleChange" type="file" name="file" accept="image/*">
                <button @click="handleClick">Submit</button>
            </form>
        </div>
        <br>
        <!-- <my-first-component v-if="moodSelected":mood-id="moodSelected"></my-first-component> -->
        <image-popup v-if="imageSelected" v-bind:image-id="imageSelected" @close="closeComponent"></image-popup>

        <!-- <h1 v-for="mood in moods" @click="selectMood(mood.id)">{{mood.title}}</h1> -->
        <div id="cards">
            <div id="img-card"
                            v-for="img in images"
                            :key="img.id"
                            @click="selectImage(img.id)"
                        >
                        <h3>{{img.title}}</h3> 
                        <img :src="img.url" alt="image" id="imgpreview"/>
                        <!-- <p>{{img.description}}</p> -->
                        <!-- <p>Posted by {{img.username}}</p> -->
                        <!-- <p id="timestamp">{{img.created_at}}</p> -->
            </div>
        </div>
        <br>
        <button>MORE</button>
    </div>
    <!-- <script id="my-component-template" type="text/x-template"> -->
        <!-- <div class="component">
            <h3>o/ first component {{count}}</h3>
            <h4>hello {{name}}</h4>
            <button @click="updateCount">Count Up</button>
        </div>
     -->
    <script id="popup-template" type="text/x-template">
        <div class="card-popup">
            <img class="imgfull" v-bind:src="url" alt="image" id="img-popup" @click="closeElement"/>
            <h2>{{title}}</h2> 
            <h3>{{description}}</h3>
            <p>Posted by {{username}}</p>
            <p id="timestamp">{{created_at}}</p>
            <comment-section></comment-section>
        </div>
    </script>

    <script id="comment-template" type="text/x-template">
        <div class="comment-section">
            <form action="POST">
                <input v-model="comment" type="text" placeholder="comment here">
                <input v-model="username" type="text" placeholder="username">
                <button @click.prevent="handleComments()">POST</button>
                <br>
                <div id="comments" v-for="comment in allComments">
                    <h4>{{comment.comment}}</h4>
                    <h4>by {{comment.username}} on {{comment.created_at}}</h4>
                </div>

            </form>
        </div>
    
    </script>
    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/script.js"></script>
</body>
</html>
